{
  "enabled": true,
  "version": "1.0.0",
  "description": "Configura√ß√£o de Guardrails para Educare+ TitiNauta",
  
  "strictMode": false,
  "logEvents": true,
  "blockOnViolation": true,
  
  "pii": {
    "detectCPF": true,
    "detectPhone": true,
    "detectEmail": true,
    "detectCreditCard": true,
    "detectChildNames": true,
    "detectBirthDate": true,
    "detectRG": true,
    "maskInLogs": true,
    "blockOnDetection": false,
    "warnOnly": true
  },
  
  "promptInjection": {
    "enabled": true,
    "sensitivity": "high",
    "customPatterns": [
      "ignore.*instru√ß√µes",
      "esque√ßa.*contexto",
      "voc√™.*agora.*√©",
      "responda.*como.*se.*fosse",
      "finja.*ser",
      "aja.*como",
      "novo.*papel",
      "mude.*personalidade"
    ]
  },
  
  "topics": {
    "allowed": [
      "desenvolvimento_infantil",
      "marcos_desenvolvimento",
      "motricidade_fina",
      "motricidade_grossa",
      "linguagem_comunicacao",
      "cognitivo",
      "socioemocional",
      "alimentacao_infantil",
      "introducao_alimentar",
      "amamentacao",
      "sono_bebe",
      "rotina_sono",
      "saude_materna",
      "puerperio",
      "estimulacao",
      "brincadeiras",
      "interacao",
      "vacinas_informacoes",
      "consultas_pediatra",
      "crescimento",
      "peso_altura"
    ],
    "blocked": [
      "medicamentos",
      "dosagem",
      "diagnostico",
      "tratamento_medico",
      "receita_medica",
      "prescricao",
      "financeiro",
      "investimento",
      "emprestimo",
      "juridico",
      "legal",
      "advogado",
      "politica",
      "religiao",
      "aborto",
      "violencia",
      "abuso"
    ],
    "requiresDisclaimer": [
      "febre",
      "dor",
      "vomito",
      "diarreia",
      "alergia",
      "manchas",
      "erupcao",
      "tosse",
      "gripe",
      "resfriado"
    ]
  },
  
  "emergencyTerms": {
    "critical": [
      "n√£o respira",
      "nao respira",
      "parou de respirar",
      "inconsciente",
      "convuls√£o",
      "convulsao",
      "engasgou",
      "afogamento",
      "envenenamento",
      "intoxica√ß√£o grave"
    ],
    "high": [
      "emerg√™ncia",
      "urgente",
      "hospital agora",
      "sangramento intenso",
      "febre muito alta",
      "desmaio",
      "caiu da",
      "acidente"
    ],
    "medium": [
      "febre alta",
      "n√£o acorda",
      "roxo",
      "azul",
      "grave",
      "preocupada"
    ]
  },
  
  "rateLimit": {
    "enabled": true,
    "maxRequestsPerMinute": 30,
    "maxRequestsPerHour": 200,
    "maxRequestsPerDay": 500,
    "burstLimit": 10,
    "burstWindow": 10
  },
  
  "outputValidation": {
    "enabled": true,
    "maxResponseLength": 2000,
    "requireMedicalDisclaimer": true,
    "disclaimerText": "üí° Lembre-se: Esta informa√ß√£o n√£o substitui a orienta√ß√£o de um profissional de sa√∫de.",
    "blockDangerousAdvice": true,
    "dangerousPatterns": [
      "n√£o precisa de m√©dico",
      "pode dar \\d+ (mg|ml|gotas)",
      "automedica√ß√£o √© segura",
      "ignore o profissional",
      "n√£o leve ao hospital",
      "tratamento caseiro resolve"
    ]
  },
  
  "childDataProtection": {
    "enabled": true,
    "maskNamesInLogs": true,
    "maskHealthDataInLogs": true,
    "encryptStoredData": true,
    "retentionDays": 365,
    "allowedFields": [
      "age_months",
      "domain_scores",
      "progress_percentage"
    ],
    "sensitiveFields": [
      "name",
      "birth_date",
      "photo",
      "medical_history",
      "parent_phone"
    ]
  },
  
  "escalation": {
    "enabled": true,
    "emergencyContact": {
      "method": "webhook",
      "url": "${ESCALATION_WEBHOOK_URL}",
      "includeContext": true,
      "notifyParent": true
    },
    "humanReview": {
      "enabled": true,
      "triggerOn": ["emergency", "blocked_content", "repeated_violations"],
      "queueName": "educare_human_review"
    }
  },
  
  "monitoring": {
    "enabled": true,
    "metricsEndpoint": "/api/guardrails/metrics",
    "alertThresholds": {
      "piiDetectionsPerHour": 50,
      "promptInjectionBlocksPerHour": 10,
      "emergencyEscalationsPerDay": 5,
      "rateLimitViolationsPerHour": 100
    }
  },
  
  "responses": {
    "promptInjection": "Desculpe, n√£o consigo processar essa mensagem. Por favor, fa√ßa uma pergunta sobre desenvolvimento infantil ou sa√∫de materna.",
    "blockedTopicMedical": "Para quest√µes sobre medicamentos, dosagens ou tratamentos m√©dicos, √© essencial consultar um pediatra ou profissional de sa√∫de. A TitiNauta pode ajudar com d√∫vidas sobre desenvolvimento infantil, alimenta√ß√£o, sono e estimula√ß√£o. üíú",
    "blockedTopicOther": "A TitiNauta √© especializada em desenvolvimento infantil e sa√∫de materna. Posso ajudar com d√∫vidas sobre marcos do desenvolvimento, alimenta√ß√£o, sono, amamenta√ß√£o e estimula√ß√£o do beb√™. Como posso ajudar nessas √°reas?",
    "rateLimit": "Voc√™ est√° enviando muitas mensagens. Por favor, aguarde um momento antes de continuar. üôè",
    "emergency": "üö® *ATEN√á√ÉO - SITUA√á√ÉO DE EMERG√äNCIA*\n\nPelos termos que voc√™ usou, parece ser uma situa√ß√£o urgente.\n\n*LIGUE AGORA:*\nüìû SAMU: 192\nüìû Bombeiros: 193\nüìû Emerg√™ncia: 190\n\nN√£o espere - procure atendimento m√©dico IMEDIATO.\n\nA TitiNauta n√£o substitui atendimento de emerg√™ncia. üíú",
    "medicalDisclaimer": "üí° Lembre-se: Esta informa√ß√£o √© apenas orientativa e n√£o substitui a consulta com um pediatra ou profissional de sa√∫de."
  }
}
